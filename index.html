<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>🍽 메뉴 추천기</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg1:#f6f8ff; --card:#ffffff; --accent:#6a5af9; --muted:#7b7b8a;
      --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter, "Noto Sans KR", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
    body{
      background:linear-gradient(180deg,var(--bg1),#fff);
      display:flex;align-items:center;justify-content:center;padding:24px;
    }

    .app{
      width:100%; max-width:920px; background:var(--card); border-radius:18px;
      padding:20px; box-shadow:0 10px 30px rgba(30,30,50,0.08);
    }

    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{font-size:20px;margin:0;color:#222}
    .subtitle{color:var(--muted);font-size:13px}

    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
    .btn{
      padding:10px 14px;border-radius:10px;border:none;background:var(--accent);
      color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(106,90,249,0.16);
    }
    .btn.secondary{background:#f0f2ff;color:var(--accent);box-shadow:none;border:1px solid rgba(106,90,249,0.08)}
    .pillgroup{display:flex;gap:8px;flex-wrap:wrap}

    .step{
      background:#fbfbff;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.03);
      min-width:200px;
    }
    .step h3{margin:0 0 8px 0;font-size:13px;color:var(--muted)}
    .step .options{display:flex;flex-wrap:wrap;gap:8px}
    .choice{
      padding:8px 12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;background:white;
      font-weight:600;color:#333;font-size:14px;
    }
    .choice.active{background:var(--accent);color:white;box-shadow:0 6px 14px rgba(106,90,249,0.12);}

    main{margin-top:18px}
    .result-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .result-head .info{color:var(--muted);font-size:13px}
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}

    .card{
      background:linear-gradient(180deg,#ffffff,#fbfbff);
      border-radius:12px;padding:10px;display:flex;gap:10px;align-items:center;border:1px solid rgba(0,0,0,0.03);
      transition:transform .18s ease, box-shadow .18s ease;
      justify-content:space-between;
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(30,30,50,0.08)}
    .meta{flex:1}
    .meta .title{font-weight:700;color:#222}
    .meta .sub{color:var(--muted);font-size:13px;margin-top:6px}

    .actions{display:flex;gap:8px;align-items:center;margin-top:12px}
    .small{padding:8px 10px;border-radius:8px;border:none;background:#f3f4f8;color:#333;cursor:pointer;font-weight:600}

    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:640px){
      .controls{flex-direction:column}
      .step{min-width:100%}
    }
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="메뉴 추천기">
    <header>
      <div>
        <h1>🍽 메뉴 추천기 아침/점심/저녁 · 한/양/중 ·</h1>
        <div class="subtitle">원하는 식사, 스타일, 매운 정도를 선택하면 메뉴를 추천합니다.</div>
      </div>
      <div class="pillgroup">
        <button class="btn" id="btn-random">무작위 추천</button>
        <button class="btn secondary" id="btn-reset">처음으로</button>
      </div>
    </header>

    <div class="controls">
      <div class="step" id="step-1">
        <h3>1. 아침 / 점심 / 저녁</h3>
        <div class="options" id="opt-time"></div>
      </div>
      <div class="step" id="step-2">
        <h3>2. 한식 / 양식 / 중식</h3>
        <div class="options" id="opt-style"></div>
      </div>
      <div class="step" id="step-3">
        <h3>3. 매운 / 순한</h3>
        <div class="options" id="opt-spicy"></div>
      </div>
    </div>

    <main>
      <div class="result-head">
        <div class="info" id="selected-info">선택: —</div>
        <div class="actions">
          <button id="btn-copy" class="small">리스트 복사</button>
          <button id="btn-showall" class="small">모두 보기</button>
        </div>
      </div>

      <div class="cards" id="cards"></div>
    </main>

    <footer>텍스트 메뉴만 표시됩니다.</footer>
  </div>

  <script>
    const TIMES = ["아침","점심","저녁"];
    const STYLES = ["한식","양식","중식"];
    const SPICIES = ["매움","순함"];

    const MENU_POOL = {
      "아침-한식-매움":["김치볶음밥","고추장비빔밥","얼큰 북엇국","부추전","매운 어묵탕","매콤 순두부"],
      "아침-한식-순함":["야채죽","달걀찜","두부 샐러드","미역국","전복죽","야채비빔밥"],
      "아침-양식-매움":["스파이시 오믈렛","할라피뇨 토스트","핫치킨 샌드","칠리 연어볼","핫소스 스크램블"],
      "아침-양식-순함":["그릭요거트볼","아보카도 토스트","프렌치토스트","오트밀+과일","에그베네딕트"],
      "아침-중식-매움":["탄탄면(라이트)","마파볶음밥(소량)","매운 완탕","고추기름 계란밥"],
      "아침-중식-순함":["계란볶음밥","완자탕","찐빵+차","중식야채죽"],

      "점심-한식-매움":["제육볶음","닭볶음탕","부대찌개","쭈꾸미볶음","낙지볶음","오삼불고기"],
      "점심-한식-순함":["된장찌개","갈비탕","콩나물국밥","비빔밥","순두부찌개","삼계탕"],
      "점심-양식-매움":["아라비아따 파스타","스파이시 피자","칠리버거","칠리 리조또","스파이시 타코"],
      "점심-양식-순함":["까르보나라","봉골레","리소토","클럽샌드","치즈오믈렛"],
      "점심-중식-매움":["짬뽕","마라탕","마파두부덮밥","깐풍기덮밥","사천식 볶음밥"],
            "점심-중식-순함":["짜장면","탕수육","새우볶음밥","울면","양주볶음밥"],

      "저녁-한식-매움":["매운갈비찜","낙지볶음","매운찜닭","매운감자탕","매운 닭발"],
      "저녁-한식-순함":["삼계탕","설렁탕","보쌈","갈비찜(순)","해물탕"],
      "저녁-양식-매움":["핫윙","스파이시 라자냐","매운 파스타","타코 플래터","핫치킨 피자"],
      "저녁-양식-순함":["스테이크","라자냐","크림파스타","리코타샐러드","연어스테이크"],
      "저녁-중식-매움":["마라샹궈","마라탕","사천식 짬뽕","마라롱샤","매운 깐풍기"],
      "저녁-중식-순함":["양장피","팔보채","동파육","멘보샤","광동식 찜요리"]
    };

    const selected = { time:null, style:null, spicy:null };

    function el(id){return document.getElementById(id);}
    function setActiveOption(containerId, value){
      const container = el(containerId);
      Array.from(container.children).forEach(btn=>btn.classList.toggle('active', btn.dataset.value === value));
    }

    function makeOptionButtons(container, arr, key){
      container.innerHTML = '';
      arr.forEach(v=>{
        const b = document.createElement('button');
        b.className='choice';
        b.textContent=v;
        b.dataset.value=v;
        b.onclick = ()=>{
          selected[key] = v;
          setActiveOption(container.id,v);
          updateSelectedInfo();
          if(selected.time && selected.style && selected.spicy){
            renderResults();
          }
        };
        container.appendChild(b);
      });
    }

    const optTime = el('opt-time'), optStyle = el('opt-style'), optSpicy = el('opt-spicy');
    makeOptionButtons(optTime, TIMES, 'time');
    makeOptionButtons(optStyle, STYLES, 'style');
    makeOptionButtons(optSpicy, SPICIES, 'spicy');

    function updateSelectedInfo(){
      const info = `${selected.time||'—'} · ${selected.style||'—'} · ${selected.spicy||'—'}`;
      el('selected-info').textContent = `선택: ${info}`;
    }

    function renderResults(showAll=false){
      if(!(selected.time && selected.style && selected.spicy)) return;
      const key = `${selected.time}-${selected.style}-${selected.spicy}`;
      let pool = MENU_POOL[key] || [];
      pool = [...pool].sort(()=>Math.random()-0.5);
      const count = showAll ? pool.length : Math.min(6, pool.length);
      const pick = pool.slice(0,count);

      const cards = el('cards');
      cards.innerHTML='';
      pick.forEach(name=>{
        const card = document.createElement('div');
        card.className='card';
        const meta = document.createElement('div'); meta.className='meta';
        const title = document.createElement('div'); title.className='title'; title.textContent=name;
        const sub = document.createElement('div'); sub.className='sub'; sub.textContent=`${selected.time} · ${selected.style} · ${selected.spicy}`;
        meta.appendChild(title); meta.appendChild(sub);
        card.appendChild(meta);
        cards.appendChild(card);
      });
    }

    el('btn-reset').onclick=()=>{
      selected.time=selected.style=selected.spicy=null;
      Array.from(document.querySelectorAll('.choice')).forEach(b=>b.classList.remove('active'));
      updateSelectedInfo();
      el('cards').innerHTML='';
    };

    el('btn-random').onclick=()=>{
      selected.time = TIMES[Math.floor(Math.random()*TIMES.length)];
      selected.style = STYLES[Math.floor(Math.random()*STYLES.length)];
      selected.spicy = SPICIES[Math.floor(Math.random()*SPICIES.length)];
      setActiveOption('opt-time', selected.time);
      setActiveOption('opt-style', selected.style);
      setActiveOption('opt-spicy', selected.spicy);
      updateSelectedInfo();
      renderResults();
    };

    el('btn-copy').onclick=()=>{
      const cards = Array.from(document.querySelectorAll('.card .title')).map(d=>d.textContent);
      if(cards.length===0){ alert('먼저 추천을 받아주세요.'); return; }
      navigator.clipboard.writeText(cards.join(', ')).then(()=>alert('메뉴 리스트가 복사되었습니다.'));
    };

    el('btn-showall').onclick=()=>{ renderResults(true); };

    updateSelectedInfo();
  </script>
</body>
</html>
