<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>🍽 메뉴 추천기 (완전본: 70+ 레시피)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{--bg1:#f6f8ff;--card:#ffffff;--accent:#6a5af9;--muted:#7b7b8a;--radius:14px;}
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,"Noto Sans KR",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
    body{background:linear-gradient(180deg,var(--bg1),#fff);display:flex;align-items:center;justify-content:center;padding:24px;}
    .app{width:100%;max-width:980px;background:var(--card);border-radius:18px;padding:20px;box-shadow:0 10px 30px rgba(30,30,50,0.08);}
    header{display:flex;align-items:center;justify-content:space-between;gap:12px}
    h1{font-size:20px;margin:0;color:#222}
    .subtitle{color:var(--muted);font-size:13px}
    .controls{display:flex;gap:12px;flex-wrap:wrap;margin-top:16px}
    .btn{padding:10px 14px;border-radius:10px;border:none;background:var(--accent);color:white;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(106,90,249,0.16);}
    .btn.secondary{background:#f0f2ff;color:var(--accent);box-shadow:none;border:1px solid rgba(106,90,249,0.08)}
    .step{background:#fbfbff;padding:12px;border-radius:12px;border:1px solid rgba(0,0,0,0.03);min-width:200px;}
    .step h3{margin:0 0 8px 0;font-size:13px;color:var(--muted)}
    .step .options{display:flex;flex-wrap:wrap;gap:8px}
    .choice{padding:8px 12px;border-radius:10px;border:1px solid rgba(0,0,0,0.06);cursor:pointer;background:white;font-weight:600;color:#333;font-size:14px;}
    .choice.active{background:var(--accent);color:white;box-shadow:0 6px 14px rgba(106,90,249,0.12);}
    main{margin-top:18px}
    .result-head{display:flex;align-items:center;justify-content:space-between;gap:12px}
    .result-head .info{color:var(--muted);font-size:13px}
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px;margin-top:12px}
    .card{background:linear-gradient(180deg,#ffffff,#fbfbff);border-radius:12px;padding:10px;display:flex;gap:10px;align-items:center;border:1px solid rgba(0,0,0,0.03);transition:transform .18s ease,box-shadow .18s ease;justify-content:space-between;cursor:pointer;}
    .card:hover{transform:translateY(-6px);box-shadow:0 14px 40px rgba(30,30,50,0.08)}
    .meta{flex:1}
    .meta .title{font-weight:700;color:#222}
    .meta .sub{color:var(--muted);font-size:13px;margin-top:6px}
    .actions{display:flex;gap:8px;align-items:center;margin-top:12px}
    .small{padding:8px 10px;border-radius:8px;border:none;background:#f3f4f8;color:#333;cursor:pointer;font-weight:600}
    footer{margin-top:18px;color:var(--muted);font-size:13px;text-align:center}
    @media (max-width:640px){ .controls{flex-direction:column} .step{min-width:100%} }

    /* Modal */
    .modal-bg{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.45);display:none;align-items:center;justify-content:center;padding:20px;z-index:9999}
    .modal{background:white;border-radius:12px;padding:18px;max-width:800px;width:100%;max-height:86vh;overflow:auto;box-shadow:0 12px 40px rgba(0,0,0,0.25)}
    .modal h2{margin-top:0;font-size:20px}
    .modal .section{margin-bottom:12px}
    pre.recipe{white-space:pre-wrap;background:#fbfbff;padding:12px;border-radius:8px;border:1px solid #efefff}
    .close{background:none;border:none;font-size:20px;cursor:pointer;float:right}
  </style>
</head>
<body>
  <div class="app" role="application" aria-label="메뉴 추천기">
    <header>
      <div>
        <h1>🍽 메뉴 추천기 · 레시피 완전판</h1>
        <div class="subtitle">원래 UI와 기능 보존 → 메뉴 클릭 시 재료 + 조리법(3~5단계) 모달 표시</div>
      </div>
      <div class="pillgroup">
        <button class="btn" id="btn-random">무작위 추천</button>
        <button class="btn secondary" id="btn-reset">처음으로</button>
      </div>
    </header>

    <div class="controls">
      <div class="step" id="step-1"><h3>1. 아침 / 점심 / 저녁</h3><div class="options" id="opt-time"></div></div>
      <div class="step" id="step-2"><h3>2. 한식 / 양식 / 중식</h3><div class="options" id="opt-style"></div></div>
      <div class="step" id="step-3"><h3>3. 매운 / 순한</h3><div class="options" id="opt-spicy"></div></div>
    </div>

    <main>
      <div class="result-head">
        <div class="info" id="selected-info">선택: —</div>
        <div class="actions">
          <button id="btn-copy" class="small">리스트 복사</button>
          <button id="btn-showall" class="small">모두 보기</button>
        </div>
      </div>

      <div class="cards" id="cards"></div>
    </main>

    <footer>클릭하면 레시피 모달이 열립니다. (재료 + 단계별 조리법)</footer>
  </div>

  <!-- 레시피 모달 -->
  <div class="modal-bg" id="modal-bg" onclick="if(event.target.id==='modal-bg') closeModal()">
    <div class="modal" role="dialog" aria-modal="true">
      <button class="close" id="modal-close" onclick="closeModal()">✕</button>
      <h2 id="modal-title"></h2>
      <div class="section"><strong>재료</strong><div id="modal-ingredients" style="margin-top:8px"></div></div>
      <div class="section"><strong>조리방법</strong><pre id="modal-steps" class="recipe"></pre></div>
    </div>
  </div>

  <script>
    const TIMES = ["아침","점심","저녁"];
    const STYLES = ["한식","양식","중식"];
    const SPICIES = ["매움","순함"];

    // 메뉴 풀 (카테고리별로 분배 — 총 75개 이상 커버)
    const MENU_POOL = {
      "아침-한식-매움":["김치볶음밥","고추장비빔밥","얼큰 북엇국","부추전","매운 어묵탕"],
      "아침-한식-순함":["야채죽","달걀찜","두부 샐러드","미역국","전복죽"],
      "아침-양식-매움":["스파이시 오믈렛","할라피뇨 토스트","핫소스 스크램블","핫치킨 샌드","칠리 연어볼"],
      "아침-양식-순함":["그릭요거트볼","아보카도 토스트","프렌치토스트","오트밀+과일","에그베네딕트"],
      "아침-중식-매움":["탄탄면(라이트)","마파볶음밥(소량)","매운 완탕","고추기름 계란밥","중식 매운 계란토스트"],
      "아침-중식-순함":["계란볶음밥","완자탕","찐빵+차","중식야채죽","콘죽"],

      "점심-한식-매움":["제육볶음","닭볶음탕","부대찌개","쭈꾸미볶음","낙지볶음","오삼불고기"],
      "점심-한식-순함":["된장찌개","갈비탕","콩나물국밥","비빔밥","순두부찌개","삼계탕"],
      "점심-양식-매움":["아라비아따 파스타","스파이시 피자","칠리버거","칠리 리조또","스파이시 타코"],
      "점심-양식-순함":["까르보나라","봉골레","리조토","클럽샌드","치즈오믈렛"],
      "점심-중식-매움":["짬뽕","마라탕","마파두부덮밥","깐풍기덮밥","사천식 볶음밥","마라덮밥"],
      "점심-중식-순함":["짜장면","탕수육","새우볶음밥","울면","양주볶음밥","중식 해물죽"],

      "저녁-한식-매움":["매운갈비찜","매운찜닭","매운감자탕","매운 닭발","매운 불고기"],
      "저녁-한식-순함":["보쌈","갈비찜(순)","해물탕","설렁탕","삼계탕(저녁용)"],
      "저녁-양식-매움":["핫윙","스파이시 라자냐","매운 파스타","타코 플래터","핫치킨 피자"],
      "저녁-양식-순함":["스테이크","라자냐","크림파스타","리코타샐러드","연어스테이크"],
      "저녁-중식-매움":["마라샹궈","마라롱샤","매운 깐풍기","사천식 짬뽕","마라 향 신메뉴"],
      "저녁-중식-순함":["양장피","팔보채","동파육","멘보샤","광동식 찜요리"]
    };

    // RECIPES: 75개 이상 — 재료 + 3~5단계 조리법(집에서 쉽게 따라할 수 있도록)
    const RECIPES = {
      /* 아침 한식 */
      "김치볶음밥": {
        ingredients: "밥 1공기, 잘 익은 김치 1컵, 대파 1/2대, 식용유 1큰술, 간장 1작은술, 참기름 약간, 계란(선택)",
        steps:
`1) 김치는 먹기 좋은 크기로 잘게 썬다.
2) 팬에 기름을 두르고 송송 썬 대파를 볶아 파기름을 만든다.
3) 김치를 넣고 중불에서 2~3분 볶아 수분을 날린다.
4) 밥을 넣고 간장으로 간을 맞추며 골고루 볶는다.
5) 불을 끄고 참기름을 더해 마무리, 계란후라이와 함께 서빙.`
      },
      "고추장비빔밥": {
        ingredients: "밥 1공기, 각종 나물(시금치/고사리/콩나물), 고추장 1~2큰술, 참기름, 계란 1개",
        steps:
`1) 나물은 데쳐서 소금·참기름으로 간을 해둔다.
2) 밥 위에 나물을 가지런히 올린다.
3) 계란후라이를 얹고 고추장과 참기름을 넣는다.
4) 잘 비벼서 먹는다.`
      },
      "얼큰 북엇국": {
        ingredients: "북어채 30g, 무 1/4개, 물 4컵, 계란 1개, 국간장 약간, 대파",
        steps:
`1) 북어채는 물에 살짝 불리고 찢어 준비한다.
2) 냄비에 물과 무를 넣고 끓인다.
3) 무가 익으면 북어를 넣고 5분 더 끓인다.
4) 계란을 풀어 넣고 대파, 국간장으로 간을 맞춘다.`
      },
      "부추전": {
        ingredients: "부추 한 줌, 부침가루 1컵, 물 1컵, 계란 1개, 식용유",
        steps:
`1) 부침가루에 물과 계란을 섞어 반죽을 만든다.
2) 부추를 넣어 가볍게 섞는다.
3) 팬에 기름을 넉넉히 두르고 반죽을 얇게 펴서 앞뒤로 노릇하게 부친다.`
      },
      "매운 어묵탕": {
        ingredients: "어묵 200g, 무 1/4개, 다시마물 4컵, 고추장 1큰술, 고춧가루 1큰술, 대파",
        steps:
`1) 냄비에 다시마물을 끓인다.
2) 무를 넣어 끓이다 어묵과 양념을 넣는다.
3) 5~7분 끓인 뒤 대파 넣고 마무리한다.`
      },
      "매콤 순두부": {
        ingredients: "순두부 1봉, 돼지고기 다짐육 50g, 고춧가루 1큰술, 다진마늘 1작은술, 계란 1개, 대파",
        steps:
`1) 냄비에 기름을 두르고 다진마늘과 고기를 볶는다.
2) 고춧가루를 넣어 향을 낸다.
3) 물을 붓고 순두부를 넣어 끓인다.
4) 마지막에 계란을 풀어 넣고 대파로 마무리한다.`
      },

      /* 아침 한식 순함 */
      "야채죽": {
        ingredients: "쌀 1/3컵, 물 3컵, 당근·호박·양파 약간, 소금",
        steps:
`1) 쌀을 씻어 물과 함께 냄비에 넣고 끓인다.
2) 쌀이 퍼지면 다진 야채를 넣고 저어가며 끓인다.
3) 소금으로 간을 맞추고 그릇에 담아 서빙한다.`
      },
      "달걀찜": {
        ingredients: "계란 3개, 물 1컵, 소금 약간, 대파 조금",
        steps:
`1) 계란을 풀고 물과 소금을 섞는다.
2) 체에 걸러 부드럽게 만들고 뚝배기에 붓는다.
3) 중불에서 뚜껑을 덮어 10~12분 쪄서 완성한다.`
      },
      "두부 샐러드": {
        ingredients: "부드러운 두부 1/2모, 양상추, 방울토마토, 드레싱",
        steps:
`1) 야채를 깨끗이 씻어 먹기 좋은 크기로 자른다.
2) 두부는 물기를 빼고 큐브 모양으로 자른다.
3) 야채와 두부에 드레싱을 곁들여 섞어 서빙한다.`
      },
      "미역국": {
        ingredients: "마른 미역 10g, 소고기 약간, 마늘, 간장, 참기름",
        steps:
`1) 미역을 물에 불려 먹기 좋은 크기로 자른다.
2) 냄비에 참기름을 두르고 소고기와 마늘을 볶는다.
3) 미역과 물을 넣고 10분 정도 끓인 뒤 간장으로 간을 맞춘다.`
      },
      "전복죽": {
        ingredients: "쌀 1/2컵, 전복 2개, 물 3컵, 소금 약간",
        steps:
`1) 쌀은 불리고 전복은 손질해 다진다.
2) 냄비에 쌀과 물을 넣고 끓이다가 전복을 넣고 함께 익힌다.
3) 쌀이 충분히 퍼지면 소금으로 간을 맞춘다.`
      },

      /* 아침 양식 */
      "스파이시 오믈렛": {
        ingredients: "계란 2개, 우유 1큰술, 소금, 후추, 핫소스(선택), 치즈(선택)",
        steps:
`1) 계란과 우유를 풀어 소금·후추로 간한다.
2) 팬을 달구고 약한 불에서 계란을 부드럽게 익힌다.
3) 속에 치즈와 핫소스를 넣어 접어 서빙한다.`
      },
      "할라피뇨 토스트": {
        ingredients: "식빵, 할라피뇨 슬라이스, 아보카도(선택), 치즈",
        steps:
`1) 식빵에 아보카도 또는 버터를 바른다.
2) 할라피뇨와 치즈를 올리고 오븐이나 토스터에 굽는다.
3) 치즈가 녹고 가장자리가 바삭해지면 완성.`
      },
      "핫치킨 샌드": {
        ingredients: "식빵 또는 번, 프라이드 치킨, 양상추, 소스(스리라차 등)",
        steps:
`1) 치킨을 적당히 데우거나 구운다.
2) 빵에 치킨과 채소, 소스를 올려 샌드한다.
3) 반으로 잘라 바로 서빙.`
      },
      "칠리 연어볼": {
        ingredients: "연어 통조림 또는 구운 연어, 칠리소스, 밥 또는 샐러드용 채소",
        steps:
`1) 연어를 잘게 부수고 칠리소스로 무친다.
2) 밥 위에 올리거나 작은 볼 형태로 만들어 서빙한다.
3) 취향에 따라 참기름 또는 깨로 마무리한다.`
      },
      "핫소스 스크램블": {
        ingredients: "계란 2~3개, 우유 1큰술, 소금, 핫소스 약간, 버터",
        steps:
`1) 계란과 우유를 풀어 소금으로 간한다.
2) 팬에 버터를 녹여 약한 불에서 천천히 스크램블한다.
3) 핫소스로 간을 맞춰 서빙한다.`
      },

      /* 아침 양식 순함 */
      "그릭요거트볼": {
        ingredients: "그릭요거트 1컵, 꿀, 견과류, 과일",
        steps:
`1) 그릭요거트를 그릇에 담는다.
2) 꿀과 잘라둔 과일, 견과류를 올려 서빙한다.`
      },
      "아보카도 토스트": {
        ingredients: "식빵, 아보카도 1개, 소금, 올리브오일, 레몬즙 약간",
        steps:
`1) 식빵을 굽는다.
2) 아보카도를 으깨 소금, 레몬즙으로 간한다.
3) 토스트 위에 올리고 올리브오일을 조금 뿌려 마무리.`
      },
      "프렌치토스트": {
        ingredients: "식빵 2장, 계란 1개, 우유 3큰술, 설탕 약간, 버터",
        steps:
`1) 계란, 우유, 설탕을 섞어 식빵을 담근다.
2) 팬에 버터를 녹이고 앞뒤로 노릇하게 굽는다.
3) 시럽이나 과일을 곁들여 서빙한다.`
      },
      "오트밀+과일": {
        ingredients: "오트밀 1/2컵, 우유 또는 물, 바나나·베리류, 견과",
        steps:
`1) 오트밀을 우유나 물에 끓여 익힌다.
2) 그릇에 담고 과일과 견과를 올려 먹는다.`
      },
      "에그베네딕트": {
        ingredients: "잉글리쉬머핀, 계란, 햄 또는 베이컨, 홀랜다이즈 소스(간단 버전 사용)",
        steps:
`1) 잉글리쉬머핀을 굽고 햄을 준비한다.
2) 포치드 에그를 만들고 머핀 위에 얹는다.
3) 홀랜다이즈 소스를 끼얹어 서빙한다.`
      },

      /* 아침 중식 매움/순함 */
      "탄탄면(라이트)": {
        ingredients: "중화면, 다진 돼지고기, 땅콩버터 또는 참깨 페이스트, 고추기름, 간장",
        steps:
`1) 면을 삶아 찬물에 헹군다.
2) 팬에 다진 고기를 볶고 소스 재료를 넣어 졸인다.
3) 면 위에 소스를 부어 비벼 먹는다.`
      },
      "마파볶음밥(소량)": {
        ingredients: "밥, 마파두부용 소스/두반장, 간 돼지고기, 대파",
        steps:
`1) 팬에 고기를 볶고 마파 소스를 넣어 향을 낸다.
2) 밥을 넣고 골고루 볶아 마무리한다.`
      },
      "매운 완탕": {
        ingredients: "완탕피(또는 만두피), 돼지고기 속, 고추기름, 간장, 육수",
        steps:
`1) 완탕을 빚어 육수에 삶는다.
2) 고추기름과 간장으로 양념한 소스를 곁들여 매콤하게 즐긴다.`
      },
      "고추기름 계란밥": {
        ingredients: "밥, 계란 1개, 고추기름, 간장 약간, 대파",
        steps:
`1) 밥을 그릇에 담고 계란을 올린다.
2) 고추기름과 간장을 둘러 섞어 먹는다.`
      },
      "계란볶음밥": {
        ingredients: "밥 1공기, 계란 2개, 대파, 소금, 후추",
        steps:
`1) 팬에 기름을 두르고 계란을 스크램블한다.
2) 밥과 대파를 넣어 빠르게 볶는다.
3) 소금·후추로 간을 맞춘다.`
      },

      /* 점심 한식 매움 */
      "제육볶음": {
        ingredients: "돼지고기 앞다리살 300g, 고추장 2큰술, 간장 1큰술, 설탕 1큰술, 다진마늘 1큰술, 양파 1/2개, 대파",
        steps:
`1) 고추장, 간장, 설탕, 다진마늘을 섞어 양념장을 만든다.
2) 돼지고기를 양념에 15~30분 재운다.
3) 팬에 기름을 두르고 양파와 고기를 센 불에서 빠르게 볶는다.
4) 대파를 넣고 한 번 더 볶아 윤기나면 불을 끄고 마무리한다.`
      },
      "닭볶음탕": {
        ingredients: "토막 낸 닭 600g, 감자 1~2개, 당근 1개, 간장 2큰술, 고추장 1큰술, 고춧가루 1큰술, 마늘",
        steps:
`1) 닭을 데쳐 불순물을 제거한 뒤 헹군다.
2) 냄비에 닭과 물을 넣고 한소끔 끓인다.
3) 감자와 당근을 넣고 양념을 넣어 은근한 불에서 졸인다.
4) 국물이 걸쭉해지면 마무리한다.`
      },
      "부대찌개": {
        ingredients: "김치, 햄, 소시지, 스팸, 두부, 라면사리, 고추장, 고춧가루, 육수",
        steps:
`1) 냄비에 김치와 햄을 넣고 육수를 부어 끓인다.
2) 고추장, 고춧가루로 간을 맞춘다.
3) 라면사리와 두부를 넣고 익혀서 먹는다.`
      },
      "쭈꾸미볶음": {
        ingredients: "쭈꾸미 300g, 고추장 1.5큰술, 고춧가루 1큰술, 설탕 1큰술, 양파, 대파",
        steps:
`1) 쭈꾸미를 손질해 데치거나 깨끗이 씻는다.
2) 양념장을 만들어 쭈꾸미를 재운다.
3) 센 불에 야채와 함께 빠르게 볶아 완성한다.`
      },
      "낙지볶음": {
        ingredients: "낙지 200g, 고추장, 간장, 설탕, 고춧가루, 채소(양파, 당근 등)", 
        steps:
`1) 낙지를 깨끗이 손질한다.
2) 양념과 함께 빠르게 볶는다.
3) 불을 끄기 직전에 참기름을 몇 방울 떨어뜨려 마무리한다.`
      },
      "오삼불고기": {
        ingredients: "오징어 200g, 삼겹살 200g, 고추장 양념, 양파, 깻잎(선택)",
        steps:
`1) 오징어와 삼겹살을 한 입 크기로 자른다.
2) 양념에 잠시 재운 뒤 센 불에서 재빠르게 볶는다.
3) 깻잎을 곁들여 먹으면 맛있다.`
      },

      /* 점심 한식 순함 */
      "된장찌개": {
        ingredients: "된장 2큰술, 두부 1/2모, 감자 1개, 애호박 1/2개, 대파, 멸치육수",
        steps:
`1) 멸치육수에 감자와 애호박을 넣고 끓인다.
2) 된장을 조금씩 풀어 넣고 두부를 넣는다.
3) 마지막에 대파를 넣고 한소끔 끓여 마무리한다.`
      },
      "갈비탕": {
        ingredients: "소갈비 500g, 무, 대파, 마늘, 소금, 후추",
        steps:
`1) 갈비는 찬물에 핏물을 빼준다.
2) 갈비와 무를 넣고 약한 불로 오래 끓여 진한 육수를 만든다.
3) 소금으로 간을 맞추고 대파를 올려 낸다.`
      },
      "콩나물국밥": {
        ingredients: "콩나물 300g, 밥 1공기, 국간장, 마늘, 대파",
        steps:
`1) 콩나물을 삶아 건진다.
2) 콩나물 삶은 국물에 밥을 말고 국간장과 마늘로 간을 한다.
3) 대파와 고추가루를 올려 낸다.`
      },
      "비빔밥": {
        ingredients: "밥, 나물(시금치·고사리·도라지 등), 고기(선택), 고추장, 계란, 참기름",
        steps:
`1) 나물과 고기를 준비해 각각 볶는다.
2) 밥 위에 나물과 고기를 올리고 계란후라이를 얹는다.
3) 고추장과 참기름을 넣고 비벼서 먹는다.`
      },
      "순두부찌개": {
        ingredients: "순두부 1봉, 조개류 또는 멸치육수, 고춧가루, 다진마늘, 계란, 대파",
        steps:
`1) 냄비에 기름과 마늘을 넣고 향을 낸다.
2) 고춧가루를 볶다가 육수를 붓고 순두부를 넣는다.
3) 취향에 따라 계란을 풀어 넣고 대파로 마무리한다.`
      },

      /* 점심 양식 매움/순함 */
      "아라비아따 파스타": {
        ingredients: "스파게티면, 토마토소스, 마늘, 고추플레이크, 올리브오일, 파슬리",
        steps:
`1) 면을 삶아 둔다.
2) 팬에 올리브오일과 마늘을 볶고 토마토소스와 고추를 넣어 끓인다.
3) 삶은 면을 넣고 소스와 버무려 마무리한다.`
      },
      "스파이시 피자": {
        ingredients: "피자 도우, 토마토소스, 치즈, 매콤 토핑(할라피뇨·핫소스 등)",
        steps:
`1) 도우에 소스를 바르고 치즈와 토핑을 올린다.
2) 예열된 오븐에서 굽는다(약 200℃ 10~15분).`
      },
      "칠리버거": {
        ingredients: "번, 패티, 칠리소스, 양상추, 토마토, 치즈",
        steps:
`1) 패티를 굽는다.
2) 번을 굽고 패티와 소스, 채소를 올려 조립한다.`
      },
      "칠리 리조또": {
        ingredients: "아르보리오 쌀, 닭육수, 칠리 소스(또는 고추기름), 양파, 버터, 파마산 치즈",
        steps:
`1) 양파를 볶고 쌀을 넣어 투명해질 때까지 볶는다.
2) 육수를 조금씩 부어가며 저어 익힌다.
3) 칠리 소스로 간을 맞추고 치즈로 마무리한다.`
      },
      "스파이시 타코": {
        ingredients: "타코 셸, 다진 고기, 할라피뇨, 양파, 살사소스",
        steps:
`1) 다진 고기를 양념해 볶는다.
2) 타코 셸에 고기와 채소, 소스를 올려 완성한다.`
      },
      "까르보나라": {
        ingredients: "스파게티면, 판체타 또는 베이컨, 계란노른자, 파마산 치즈, 후추",
        steps:
`1) 면을 삶는다.
2) 베이컨을 볶고 삶은 면에 넣는다.
3) 불을 끄고 노른자와 치즈를 넣어 재빨리 버무려 크리미하게 마무리한다.`
      },
      "봉골레": {
        ingredients: "스파게티면, 바지락 200g, 올리브오일, 마늘, 화이트와인(선택), 파슬리",
        steps:
`1) 바지락은 해감한다.
2) 팬에 올리브오일과 마늘을 볶고 바지락을 넣어 익힌다.
3) 삶은 면과 함께 버무려 서빙한다.`
      },
      "리조토": {
        ingredients: "아르보리오 쌀 1컵, 닭육수 약 4컵, 양파, 버터, 파마산 치즈",
        steps:
`1) 버터에 양파를 볶고 쌀을 넣어 코팅한다.
2) 뜨거운 육수를 조금씩 부어가며 저어 익힌다.
3) 마지막에 치즈를 넣어 부드럽게 마무리한다.`
      },
      "클럽샌드": {
        ingredients: "식빵 또는 토스트용 빵, 햄, 베이컨, 양상추, 토마토, 마요네즈",
        steps:
`1) 빵을 구워 준비한다.
2) 속 재료를 차곡차곡 쌓아 샌드를 만든다.
3) 반으로 잘라 서빙한다.`
      },
      "치즈오믈렛": {
        ingredients: "계란 2~3개, 우유 조금, 치즈, 소금, 버터",
        steps:
`1) 계란과 우유를 풀어 소금으로 간한다.
2) 팬에 버터를 녹여 계란을 부드럽게 익힌다.
3) 치즈를 넣어 접어 마무리한다.`
      },

      /* 점심 중식 매움 */
      "짬뽕": {
        ingredients: "중화면, 오징어·홍합 등 해물, 양배추·양파, 고춧가루, 국물용 육수",
        steps:
`1) 해물과 채소를 센 불에 볶아 향을 낸다.
2) 물과 양념을 넣고 끓인다.
3) 면을 넣고 한 번 더 끓여 완성한다.`
      },
      "마라탕": {
        ingredients: "마라 소스(또는 마라 향신료), 각종 재료(버섯, 채소, 고기), 당면 또는 면",
        steps:
`1) 냄비에 마라 소스를 풀어 끓인다.
2) 재료를 넣어 익혀 먹는다.
3) 취향에 따라 향신료를 조절한다.`
      },
      "마파두부덮밥": {
        ingredients: "두부 1모, 간 돼지고기 100g, 두반장 1큰술, 간장, 설탕, 대파",
        steps:
`1) 팬에 고기를 볶고 두반장으로 양념한다.
2) 두부를 넣고 조리며 소스를 만든다.
3) 밥 위에 얹어 서빙한다.`
      },
      "깐풍기덮밥": {
        ingredients: "닭고기 한 입 크기, 전분, 튀김기름, 깐풍기 소스(간장·식초·설탕 등)",
        steps:
`1) 닭에 전분을 입혀 바삭하게 튀긴다.
2) 팬에 소스를 만들어 튀긴 닭을 버무린다.
3) 밥 위에 올려 덮밥으로 즐긴다.`
      },
      "사천식 볶음밥": {
        ingredients: "밥, 다진 고기, 사천 소스(또는 두반장+고추기름), 채소",
        steps:
`1) 팬에 고기와 채소를 볶는다.
2) 특제 소스를 넣고 볶다가 밥을 넣어 마무리한다.`
      },

      /* 점심 중식 순함 */
      "짜장면": {
        ingredients: "생면 또는 건면, 춘장 3큰술, 돼지고기 150g, 양파, 감자",
        steps:
`1) 춘장을 기름에 볶아 기름을 만든다.
2) 돼지고기와 채소를 볶고 물을 부어 끓인다.
3) 전분으로 농도를 맞추고 삶은 면 위에 얹어 비벼 먹는다.`
      },
      "탕수육": {
        ingredients: "돼지고기 등심 300g, 튀김가루, 식용유, 소스(식초, 설탕, 간장, 케첩)",
        steps:
`1) 돼지고기를 한입 크기로 썬다.
2) 튀김옷을 입혀 170~180℃에서 바삭하게 튀긴다.
3) 소스를 만들어 튀긴 고기에 부어 서빙한다.`
      },
      "새우볶음밥": {
        ingredients: "밥, 새우, 양파, 당근, 간장, 달걀",
        steps:
`1) 새우를 데치거나 볶아 준비한다.
2) 팬에 채소를 볶고 밥과 새우를 넣어 볶는다.
3) 간장으로 간을 맞추고 달걀을 넣어 완성한다.`
      },
      "울면": {
        ingredients: "울면 또는 중면, 해물, 채소, 매운 국물",
        steps:
`1) 면을 삶는다.
2) 해물과 채소로 국물을 끓인다.
3) 면을 담아 국물을 부어 먹는다.`
      },
      "양주볶음밥": {
        ingredients: "밥, 해산물(오징어·새우), 당근, 완두콩, 간장",
        steps:
`1) 해산물과 채소를 볶는다.
2) 밥을 넣어 볶아 간을 맞춘다.`
      },

      /* 저녁 한식 매움 */
      "매운갈비찜": {
        ingredients: "갈비 1kg, 고추장 2큰술, 고춧가루 1큰술, 간장 3큰술, 설탕, 마늘, 무",
        steps:
`1) 갈비를 핏물 제거 후 데친다.
2) 양념을 넣고 약한 불에서 푹 끓인다.
3) 무와 당근을 넣고 익혀 매콤하게 완성한다.`
      },
      "매운찜닭": {
        ingredients: "닭 1마리, 감자, 당면, 고추장, 간장, 고춧가루, 마늘",
        steps:
`1) 닭을 토막 내고 양념장을 만든다.
2) 팬에 닭과 채소를 넣고 양념과 함께 졸인다.
3) 당면을 불려 넣고 국물이 걸쭉해질 때까지 익힌다.`
      },
      "매운감자탕": {
        ingredients: "돼지 등뼈, 감자, 우거지, 고춧가루, 다진마늘",
        steps:
`1) 뼈를 삶아 잡내를 제거한다.
2) 감자와 우거지를 넣고 고춧가루로 얼큰하게 끓인다.
3) 들깨가루로 마무리하면 고소함이 더해진다.`
      },
      "매운 닭발": {
        ingredients: "닭발 500g, 고추장, 고춧가루, 간장, 설탕, 마늘",
        steps:
`1) 닭발을 데쳐 불순물을 제거한다.
2) 양념으로 조려서 매콤하게 만든다.
3) 참깨와 파를 뿌려 서빙한다.`
      },
      "매운 불고기": {
        ingredients: "얇게 썬 소고기 300g, 고추장, 고춧가루, 간장, 설탕, 마늘",
        steps:
`1) 고기를 매운 양념에 재운다.
2) 센 불에 빠르게 볶아 마무리한다.`
      },

      /* 저녁 한식 순함 */
      "보쌈": {
        ingredients: "돼지고기 삼겹살, 소금, 마늘, 쌈장, 배추김치",
        steps:
`1) 삼겹살을 삶아 익힌다.
2) 적당한 두께로 썰어 배추와 쌈장과 곁들여 먹는다.`
      },
      "갈비찜(순)": {
        ingredients: "소갈비, 간장, 설탕, 배즙, 당근, 무",
        steps:
`1) 갈비를 핏물 뺀 뒤 양념에 재운다.
2) 약한 불에서 무와 함께 오래 끓여 부드럽게 만든다.`
      },
      "해물탕": {
        ingredients: "각종 해물(꽃게, 홍합, 새우 등), 무, 대파, 고춧가루(선택)",
        steps:
`1) 무와 육수로 국물을 우려낸다.
2) 해물을 넣고 살짝 끓여 신선함을 살린다.`
      },
      "설렁탕": {
        ingredients: "소뼈, 사태(선택), 대파, 소금",
        steps:
`1) 뼈를 오래 끓여 진한 국물을 만든다.
2) 고기를 넣고 부드럽게 익힌 후 소금으로 간을 맞춘다.`
      },

      /* 저녁 양식 매움/순함 */
      "핫윙": {
        ingredients: "닭날개, 핫소스, 버터, 소금, 후추",
        steps:
`1) 닭날개에 소금·후추로 밑간한다.
2) 오븐이나 튀김으로 익힌 뒤 핫소스와 버터에 버무린다.`
      },
      "스파이시 라자냐": {
        ingredients: "라자냐 면, 라구소스, 매운 토마토 소스, 치즈",
        steps:
`1) 라구소스에 매운 소스를 더해 준비한다.
2) 면과 소스, 치즈를 층층이 쌓아 오븐에 굽는다.`
      },
      "매운 파스타": {
        ingredients: "파스타면, 칠리오일(또는 고추), 마늘, 올리브오일, 파슬리",
        steps:
`1) 면을 삶는다.
2) 팬에 마늘과 칠리를 볶아 향을 낸 뒤 면과 버무린다.`
      },
      "타코 플래터": {
        ingredients: "타코 셸, 다진 고기, 살사, 치즈, 아보카도",
        steps:
`1) 고기를 양념해 볶는다.
2) 타코 셸에 고기와 토핑을 올려 서빙한다.`
      },
      "핫치킨 피자": {
        ingredients: "피자 도우, 토마토 소스, 치즈, 핫치킨 토핑",
        steps:
`1) 도우에 소스와 치즈, 핫치킨을 올린다.
2) 오븐에 구워 바로 서빙한다.`
      },

      "스테이크": {
        ingredients: "스테이크용 소고기 200~300g, 소금, 후추, 버터, 마늘",
        steps:
`1) 고기는 실온에 잠시 두어 온도 맞춘다.
2) 표면에 소금·후추를 뿌리고 센 불에 구워 원하는 굽기로 익힌다.
3) 버터와 마늘로 풍미를 더하고 5분 정도 레스팅 후 서빙한다.`
      },
      "라자냐": {
        ingredients: "라자냐 면, 라구소스, 베샤멜, 치즈",
        steps:
`1) 라구소스와 베샤멜을 준비한다.
2) 면-소스-치즈 순으로 층을 쌓아 오븐에서 굽는다.`
      },
      "크림파스타": {
        ingredients: "파스타면, 생크림, 버터, 파르미지아노 치즈, 버섯(선택)",
        steps:
`1) 면을 삶는다.
2) 팬에 버터와 버섯을 볶고 생크림을 넣어 소스를 만든다.
3) 면과 버무려 치즈로 마무리한다.`
      },
      "리코타샐러드": {
        ingredients: "리코타 치즈, 샐러드 야채, 올리브오일, 발사믹(선택)",
        steps:
`1) 야채를 씻어 담는다.
2) 리코타를 올리고 올리브오일로 드레싱해 서빙한다.`
      },
      "연어스테이크": {
        ingredients: "연어 스테이크용, 소금, 후추, 레몬, 올리브오일",
        steps:
`1) 연어에 소금·후추로 간한다.
2) 팬에 구워 레몬즙을 더해 서빙한다.`
      },

      /* 저녁 중식 매움/순함 */
      "마라샹궈": {
        ingredients: "각종 고기·해물, 채소, 마라 소스(두반장, 고추기름 등), 땅콩(선택)",
        steps:
`1) 재료를 센 불에 빠르게 볶는다.
2) 마라 소스를 넣어 강한 향과 매운맛을 낸다.
3) 접시에 담아 바로 서빙한다.`
      },
      "마라롱샤": {
        ingredients: "랍스터류(또는 가재 류), 마라 소스, 마늘, 고추",
        steps:
`1) 가재를 데치거나 익힌다.
2) 팬에 마라 소스와 함께 볶아 향을 입힌다.`
      },
      "매운 깐풍기": {
        ingredients: "닭고기, 전분, 마늘, 청양고추, 깐풍기 소스(간장·식초·설탕)",
        steps:
`1) 닭을 전분 입혀 튀긴다.
2) 소스로 버무려 매콤하게 완성한다.`
      },
      "사천식 짬뽕": {
        ingredients: "해물, 면, 사천 양념(고추기름, 마라 등), 채소",
        steps:
`1) 해물과 채소를 볶아 향을 낸다.
2) 사천 양념으로 얼큰하게 끓여 면과 함께 낸다.`
      },
      "양장피": {
        ingredients: "양장피, 해산물, 야채, 소스(간장, 식초, 설탕 등)",
        steps:
`1) 재료를 데치거나 볶아 준비한다.
2) 소스로 가볍게 버무려 차갑게 내거나 뜨겁게 낸다.`
      },
      "팔보채": {
        ingredients: "새우, 오징어, 버섯, 아스파라거스, 소스(굴소스, 간장)",
        steps:
`1) 재료를 따로따로 빠르게 볶는다.
2) 소스를 넣고 함께 볶아 마무리한다.`
      },
      "동파육": {
        ingredients: "삼겹살 블록, 간장, 설탕, 마늘, 대파",
        steps:
`1) 삼겹살을 큼직하게 잘라 물에 데쳐 냄새를 제거한다.
2) 간장과 양념에 조려서 부드럽게 익힌다.`
      },
      "멘보샤": {
        ingredients: "새우페이스트, 식빵, 튀김옷, 설탕(시럽용)",
        steps:
`1) 새우속을 빵에 올리고 튀겨낸다.
2) 달콤한 소스나 시럽과 함께 내면 맛있다.`
      },
      "광동식 찜요리": {
        ingredients: "생선 또는 고기, 간장, 생강, 대파, 소주 약간(선택)",
        steps:
`1) 재료를 손질하여 양념을 바른다.
2) 찜기에 올려 쪄내고 소스를 끼얹어 제공한다.`
      },

      /* 기타 인기 메뉴 (추가로 총량 맞춤) */
      "라면": {
        ingredients: "라면 1봉, 물 500~550ml, 스프, 계란(선택), 파",
        steps:
`1) 물을 끓인다.
2) 면과 스프를 넣고 3~4분 끓인다.
3) 기호에 따라 계란이나 야채를 추가해 마무리한다.`
      },
      "떡볶이": {
        ingredients: "떡 300g, 어묵, 고추장 2큰술, 고춧가루 1큰술, 설탕 1큰술, 물",
        steps:
`1) 물과 양념을 끓인다.
2) 떡과 어묵을 넣고 걸쭉해질 때까지 졸인다.
3) 참깨와 파를 올려 완성한다.`
      },
      "오므라이스": {
        ingredients: "밥 1공기, 계란 2개, 양파, 케첩, 버터",
        steps:
`1) 양파를 볶고 밥과 케첩을 넣어 볶음밥을 만든다.
2) 계란을 얇게 부쳐 볶음밥을 감싼다.
3) 케첩으로 마무리한다.`
      },
      "김밥": {
        ingredients: "김, 밥, 단무지, 시금치, 햄, 계란, 당근",
        steps:
`1) 밥에 소금과 참기름을 섞는다.
2) 김 위에 밥과 재료를 올리고 단단히 말아 썬다.`
      },
      "치킨": {
        ingredients: "닭 한 마리 또는 부위, 소금, 후추, 튀김가루, 기름",
        steps:
`1) 닭에 밑간을 한다.
2) 튀김옷을 입혀 적당한 온도에서 바삭하게 튀긴다.
3) 소스와 함께 제공한다.`
      },
      "피자": {
        ingredients: "피자 도우, 토마토 소스, 치즈, 토핑(페퍼로니 등)",
        steps:
`1) 도우에 소스를 바르고 토핑과 치즈를 올린다.
2) 예열된 오븐에서 굽는다(200℃ 약 10~15분).`
      },
      "햄버거": {
        ingredients: "번, 패티, 치즈, 양상추, 토마토, 소스",
        steps:
`1) 패티를 굽는다.
2) 번을 굽고 재료와 소스를 적절히 쌓아 완성한다.`
      },
      "샐러드": {
        ingredients: "양상추, 방울토마토, 오이, 드레싱(올리브오일+레몬)",
        steps:
`1) 야채를 씻어 적당히 자른다.
2) 그릇에 담고 드레싱을 뿌려 내면 된다.`
      },
      "파스타": {
        ingredients: "파스타면, 올리브오일, 마늘, 소스(토마토 or 크림)",
        steps:
`1) 면을 삶는다.
2) 팬에 소스를 만들고 면과 버무려 완성한다.`
      },
      "죽": {
        ingredients: "쌀, 물, 소금, 참기름, (토핑: 김가루 등)",
        steps:
`1) 쌀을 불리고 물과 함께 약한 불에서 오래 끓인다.
2) 걸쭉해지면 소금으로 간을 맞추고 토핑을 얹어 서빙한다.`
      },
      "감자탕": {
        ingredients: "돼지 등뼈, 감자, 우거지, 들깨가루, 고춧가루",
        steps:
`1) 뼈를 삶아 잡내 제거.
2) 감자와 우거지를 넣고 얼큰하게 끓인다.
3) 들깨가루로 농도를 조절한다.`
      },
      "불고기": {
        ingredients: "얇게썬 소고기 300g, 간장, 설탕, 마늘, 배즙",
        steps:
`1) 고기를 양념에 재워 30분 이상 둔다.
2) 센 불에 빠르게 볶아 윤기 나게 마무리한다.`
      },
      "돈까스": {
        ingredients: "돼지고기 등심, 밀가루, 계란, 빵가루, 소스",
        steps:
`1) 고기를 두들겨 편 뒤 소금·후추로 간한다.
2) 밀가루-계란-빵가루 순으로 입혀 튀긴다.
3) 소스와 함께 제공한다.`
      },
      "우동": {
        ingredients: "우동면, 멸치육수, 어묵, 대파",
        steps:
`1) 육수를 끓인다.
2) 면과 어묵을 넣고 익힌 뒤 대파를 넣고 마무리한다.`
      },
      "잡채": {
        ingredients: "당면 100g, 당근, 시금치, 양파, 간장, 설탕",
        steps:
`1) 당면을 삶아 물기를 빼둔다.
2) 야채를 볶아 당면과 함께 버무리고 간장·설탕으로 간 맞춘다.`
      },
      "유부초밥": {
        ingredients: "유부, 밥, 식초, 설탕, 소금, 깨",
        steps:
`1) 초밥용 밥을 만들어 유부에 채워 넣는다.
2) 깨를 뿌려 마무리한다.`
      },
      "곱창볶음": {
        ingredients: "곱창 300g, 양파, 대파, 고추장, 고춧가루, 설탕",
        steps:
`1) 곱창을 데치고 손질한다.
2) 양념에 볶아 매콤하게 조리한다.`
      },
      "훠궈": {
        ingredients: "훠궈 육수, 각종 야채, 고기, 소스",
        steps:
`1) 훠궈 육수를 준비한다.
2) 재료를 데쳐 소스에 찍어 먹는다.`
      },
      "깐쇼새우": {
        ingredients: "새우, 전분, 튀김기름, 소스(케첩+마늘+간장+설탕)",
        steps:
`1) 새우에 전분을 입혀 튀긴다.
2) 팬에 소스를 만들어 튀긴 새우를 버무린다.`
      },
      "회덮밥": {
        ingredients: "생선회, 밥, 상추·야채, 초고추장, 참기름",
        steps:
`1) 밥 위에 상추와 야채를 올린다.
2) 생선회를 올리고 초고추장을 곁들여 비벼 먹는다.`
      },
      "초밥": {
        ingredients: "초밥용 밥, 생선회(회), 와사비, 간장",
        steps:
`1) 초밥용 밥을 만든다.
2) 손으로 밥을 쥐고 생선을 올려 초밥을 만든다.`
      },
      "회": {
        ingredients: "신선한 생선, 간장, 와사비, 무순(선택)",
        steps:
`1) 생선을 예쁘게 썰어 접시에 담는다.
2) 간장과 와사비를 곁들여 제공한다.`
      }
    };

    // 상태
    const selected = { time: null, style: null, spicy: null };

    function el(id){ return document.getElementById(id); }

    function setActiveOption(containerId, value){
      const container = el(containerId);
      Array.from(container.children).forEach(btn => btn.classList.toggle('active', btn.dataset.value === value));
    }

    function makeOptionButtons(container, arr, key){
      container.innerHTML = '';
      arr.forEach(v => {
        const b = document.createElement('button');
        b.className = 'choice';
        b.textContent = v;
        b.dataset.value = v;
        b.onclick = () => {
          selected[key] = v;
          setActiveOption(container.id, v);
          updateSelectedInfo();
          if (selected.time && selected.style && selected.spicy) renderResults();
        };
        container.appendChild(b);
      });
    }

    makeOptionButtons(el('opt-time'), TIMES, 'time');
    makeOptionButtons(el('opt-style'), STYLES, 'style');
    makeOptionButtons(el('opt-spicy'), SPICIES, 'spicy');

    function updateSelectedInfo(){
      const info = `${selected.time || '—'} · ${selected.style || '—'} · ${selected.spicy || '—'}`;
      el('selected-info').textContent = `선택: ${info}`;
    }

    function renderResults(showAll=false){
      if(!(selected.time && selected.style && selected.spicy)) return;
      const key = `${selected.time}-${selected.style}-${selected.spicy}`;
      let pool = MENU_POOL[key] || [];
      pool = [...pool].sort(() => Math.random() - 0.5);
      const count = showAll ? pool.length : Math.min(6, pool.length);
      const pick = pool.slice(0, count);

      const cards = el('cards'); cards.innerHTML = '';
      pick.forEach(name => {
        const card = document.createElement('div'); card.className = 'card';
        const meta = document.createElement('div'); meta.className = 'meta';
        const title = document.createElement('div'); title.className = 'title'; title.textContent = name;
        const sub = document.createElement('div'); sub.className = 'sub'; sub.textContent = `${selected.time} · ${selected.style} · ${selected.spicy}`;
        meta.appendChild(title); meta.appendChild(sub);
        card.appendChild(meta);
        card.onclick = () => openRecipe(name);
        cards.appendChild(card);
      });
    }

    function openRecipe(name){
      const data = RECIPES[name];
      el('modal-title').textContent = name;
      if(!data){
        el('modal-ingredients').textContent = "레시피 정보가 없습니다.";
        el('modal-steps').textContent = "";
      } else {
        el('modal-ingredients').textContent = data.ingredients || "";
        el('modal-steps').textContent = data.steps || "";
      }
      el('modal-bg').style.display = 'flex';
    }

    function closeModal(){
      el('modal-bg').style.display = 'none';
    }

    el('btn-reset').onclick = () => {
      selected.time = selected.style = selected.spicy = null;
      Array.from(document.querySelectorAll('.choice')).forEach(b => b.classList.remove('active'));
      updateSelectedInfo();
      el('cards').innerHTML = '';
    };

    el('btn-random').onclick = () => {
      selected.time = TIMES[Math.floor(Math.random()*TIMES.length)];
      selected.style = STYLES[Math.floor(Math.random()*STYLES.length)];
      selected.spicy = SPICIES[Math.floor(Math.random()*SPICIES.length)];
      setActiveOption('opt-time', selected.time);
      setActiveOption('opt-style', selected.style);
      setActiveOption('opt-spicy', selected.spicy);
      updateSelectedInfo();
      renderResults();
    };

    el('btn-copy').onclick = () => {
      const cards = Array.from(document.querySelectorAll('.card .title')).map(d => d.textContent);
      if(cards.length === 0){ alert('먼저 추천을 받아주세요.'); return; }
      navigator.clipboard.writeText(cards.join(', ')).then(()=>alert('메뉴 리스트가 복사되었습니다.'));
    };

    el('btn-showall').onclick = () => { renderResults(true); };

    updateSelectedInfo();

  </script>
</body>
</html>
